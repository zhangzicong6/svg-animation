{"name":"Svg-animation","tagline":"","body":"##svg动画实现沉浸式体验\r\n现在html5火起来之后，像云来那种滑动式单页越来越多，今天给大家带来一种不同的场景体验方式。\r\n没有页面与页面之间的切换，只有元素与元素的替换，使用户只沉浸在内容元素之中，而不用被其他的东西影响。\r\n当然这种体验也可以使用html+css去做，我这儿用svg是因为有一些动画html+css实现不了。废话不多说了，开始进入主题\r\n##编码前准备\r\n既然是svg就得准备svg吧，写教程就不准备太复杂的svg了，既然是场景应用，那么就要能控制svg的元素，使得其中的元素按照规则显示与隐藏，\r\n这就要控制svg里的元素，你可以通过元素查找进行操作，我在这里用的是Snap.svg.js,专门用了处理svg的类库，学习使用起来挺方便的，当然\r\n我为了写起来方便就用svg写了，sanp可以往svg里添加删除元素，如果是细节控可以把svg用snap动态加载进去，然后不用的元素再删除\r\n<pre><code>\r\n&lt;svg id=\"svg\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n     width=\"640px\" height=\"1008px\" viewBox=\"0 0 640 1008\" enable-background=\"new 0 0 640 1008\" xml:space=\"preserve\"&gt;\r\n&lt;text transform=\"matrix(1 0 0 1 128.8887 595.5957)\" fill=\"#E60012\" font-family=\"'FZLTXHK--GBK1-0'\" font-size=\"48.0418\">创意和技术的结合</text>\r\n&lt;g&gt;\r\n\t&lt;circle id=\"cicle1\" fill=\"#E60012\" cx=\"343.054\" cy=\"417.491\" r=\"75.529\"/>\r\n\t&lt;circle id=\"cicle2\" fill=\"#E60012\" cx=\"299.059\" cy=\"417.491\" r=\"75.529\"/>\r\n\t&lt;g&gt;>\r\n\t\t&lt;defs&gt;\r\n\t\t\t&lt;circle id=\"SVGID_1_\" cx=\"299.059\" cy=\"417.491\" r=\"75.529\"/&gt;\r\n\t\t&lt;/defs&gt;\r\n\t\t&lt;clipPath id=\"SVGID_2_\"&gt;\r\n\t\t\t&lt;use xlink:href=\"#SVGID_1_\"  overflow=\"visible\"/&gt;\r\n\t\t&lt;/clipPath&gt;\r\n\t\t&lt;circle id=\"SVGID_3_\" clip-path=\"url(#SVGID_2_)\" fill=\"#FCFAFA\" cx=\"342.556\" cy=\"417.491\" r=\"75.529\"/&gt;\r\n\t&lt;/g&gt;\r\n&lt;/g&gt;\r\n&lt;/svg&gt;\r\n</code></pre>\r\n![svg图片] (https://github.com/zhangzicong6/svg-animation/blob/master/img/svg.png)\r\n先把svg设置到snap，<code>var snap=Snap(\"#svg\");</code> snap查找元素跟jquery语法是一样的<code>snap.select(\"text\");>snap.selectAll(\"circle\");</code>\r\n设置属性和操作动画也跟jquery语法是一样的<code>cicle1.attr({\r\n    \t\t\t\tcx: -100,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t});</code>动画<code>cicle1.animate({\r\n    \t\t\t\tcx: 343.054,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t},1000);</code>元素的显示移除基本这些就能完成了，别的就不多说了代码贴上\r\n\r\n<pre><code>\r\n               text.attr({opacity: 0});\r\n\t\t\t\tcicle1.attr({\r\n\t\t\t\t\tcx: -100,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t});\r\n\t\t\t\tSVGID_1_.attr({\r\n\t\t\t\t\tcx: -100,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t});\r\n\t\t\t\tcicle2.attr({\r\n\t\t\t\t\tcx: 740,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t});\r\n\t\t\t\tSVGID_3_.attr({\r\n\t\t\t\t\tcx: 740,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t});\r\n                cicle1.animate({\r\n    \t\t\t\tcx: 343.054,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t},1000);\r\n\t\t\t\tSVGID_1_.animate({\r\n\t\t\t\t\tcx: 289.059,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t},1000);\r\n\t\t\t\tcicle2.animate({\r\n\t\t\t\t\tcx: 299.059,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t},1000);\r\n\t\t\t\tSVGID_3_.animate({\r\n\t\t\t\t\tcx: 342.556,\r\n\t\t\t\t\txy: 417.491\r\n\t\t\t\t},1000);\r\n                text.animate({opacity: 1},1000);\r\n</code></pre>\r\n![svg动画] (https://github.com/zhangzicong6/svg-animation/blob/master/img/ani.gif)\r\n不太会截屏，把做的前面的动画也录了进来，可以看看\r\n那么这是一个页面的动画，想进入下一页，把这些元素按照自己想要的形势移除屏幕外，而后让下一页的元素显示出来即可，剩下的就是逻辑处理，跟动画操作在这儿就不一一书写了\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}